"use strict";var burger=document.querySelector(".burger"),header=document.querySelector(".header"),isNavOpen=!1;burger.addEventListener("click",(function(){burger.classList.toggle("active"),header.classList.toggle("active"),isNavOpen=!isNavOpen}));var interval,dayField=document.getElementById("day"),hourField=document.getElementById("hour"),minuteField=document.getElementById("minute"),secondField=document.getElementById("second"),eventDay=moment("2022-09-09"),second=1e3,minute=60*second,hour=60*minute,day=24*hour,countDownFn=function(){var e=moment(),t=eventDay.diff(e);if(t<=-e)return console.log("Unfortunately we have past the event day"),void clearInterval(interval);if(t<=0)return console.log("Today is the event day"),void clearInterval(interval);var o=Math.floor(t/day),r=Math.floor(t%day/hour),c=Math.floor(t%hour/minute),n=Math.floor(t%minute/second);dayField.innerHTML=o,hourField.innerHTML=r,minuteField.innerHTML=c,secondField.innerHTML=n};interval=setInterval(countDownFn,second);var selector=document.getElementById("selector");Inputmask({mask:"+7 999 999 99 99",showMaskOnHover:!1,clearIncomplete:!1,showMask:!0,greedy:!0}).mask('[name="phone"]');var btnsSubmit=document.querySelectorAll('button[type="submit"]'),showModals=document.querySelectorAll("[data-showModal]"),popupsClose=document.querySelectorAll(".popup__close"),popupError=document.getElementById("popuperror"),popupSuccess=document.getElementById("popupsuccess"),btnFormPopup=document.querySelectorAll(".btn-form-popup"),activePopup=null;btnsSubmit.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault()}))})),showModals.forEach((function(e){e.addEventListener("click",(function(t,o){var r=e.dataset.showmodal,c=document.querySelector('[data-popup="'.concat(r,'"]'));activePopup=c,c.classList.remove("d-none")}))})),popupsClose.forEach((function(e){e.addEventListener("click",(function(e){if(activePopup){var t,o;if(null===(t=activePopup.querySelector("form"))||void 0===t||t.reset(),activePopup.classList.add("d-none"),null!==(o=activePopup)&&void 0!==o&&o.querySelector("form")){var r=activePopup.querySelector('[type="text"]'),c=activePopup.querySelector('[type="email"]'),n=activePopup.querySelector('[type="tel"]'),i=activePopup.querySelector(".checkbox__input");r.classList.remove("input--error"),c.classList.remove("input--error"),n.classList.remove("input--error"),i.classList.remove("checkbox__input--error")}activePopup=null}}))}));var getCredit=document.getElementById("getCredit"),getCreditForm=document.getElementById("getCreditForm"),contactsForm=document.getElementById("contactsForm"),contactsFormBtm=document.getElementById("contactsFormBtn");function checkEmptyForm(e){var t=e.querySelector(".input"),o=e.querySelector(".checkbox__input"),r=!1,c=!1;11!==t.value.replace(/\D/g,"").length?(t.classList.add("input--error"),r=!1,t.addEventListener("input",(function(){11===t.value.replace(/\D/g,"").length?(t.classList.remove("input--error"),r=!0):r=!1}))):r=!0,o.checked?c=!0:(c=!1,o.classList.add("checkbox__input--error"),o.addEventListener("change",(function(){o.checked?(o.classList.remove("checkbox__input--error"),c=!0):(o.classList.add("checkbox__input--error"),c=!1)}))),r&&c&&(e.reset(),c=!1,r=!1,popupSuccess.classList.remove("d-none"),activePopup=popupSuccess)}function checkPopUpForm(e){var t=e.querySelector('[type="text"]'),o=e.querySelector('[type="email"]'),r=e.querySelector('[type="tel"]'),c=e.querySelector(".checkbox__input"),n=!1,i=!1,a=!1,s=!1;checkName(t.value)?(n=!0,t.classList.remove("input--error")):(n=!1,t.classList.add("input--error"),t.addEventListener("input",(function(){checkName(t.value)?(t.classList.remove("input--error"),n=!0):(t.classList.add("input--error"),n=!1)}))),checkMail(o.value)?(i=!0,o.classList.remove("input--error")):(i=!1,o.classList.add("input--error"),o.addEventListener("input",(function(){checkMail(o.value)?(o.classList.remove("input--error"),i=!0):(o.classList.add("input--error"),i=!1)}))),11===r.value.replace(/\D/g,"").length?(a=!0,r.classList.remove("input--error")):(a=!1,r.classList.add("input--error"),r.addEventListener("input",(function(){11===r.value.replace(/\D/g,"").length?(r.classList.remove("input--error"),a=!0):(r.classList.add("input--error"),a=!1)}))),c.checked?(s=!0,c.classList.remove("checkbox__input--error")):(s=!1,c.classList.add("checkbox__input--error"),c.addEventListener("change",(function(){c.checked?(s=!0,c.classList.remove("checkbox__input--error")):(s=!1,c.classList.add("checkbox__input--error"))}))),n&&i&&a&&s&&(e.querySelector("form").reset(),n=!1,i=!1,a=!1,s=!1,activePopup.classList.add("d-none"),popupSuccess.classList.remove("d-none"),activePopup=popupSuccess)}getCredit.addEventListener("click",(function(){checkEmptyForm(getCreditForm)})),contactsFormBtm.addEventListener("click",(function(){checkEmptyForm(contactsForm)})),btnFormPopup.forEach((function(e){e.addEventListener("click",(function(){checkPopUpForm(activePopup)}))}));var emails=document.querySelectorAll('[type="email"]'),checkName=function(e){return/^[а-яА-ЯЁё]+$/.test(e)},checkMail=function(e){return String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)},navs=document.querySelectorAll(".header__item");navs.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),navs.forEach((function(e){e.classList.remove("header__item--active")})),e.classList.add("header__item--active"),isNavOpen&&(burger.classList.toggle("active"),header.classList.toggle("active"),isNavOpen=!1),scrollToElement(e.getAttribute("href"),{offset:-76,ease:"inOutElastic",duration:1})}))}));var popUpPdf=document.querySelector(".popup-pdf"),popUpPdfShow=document.querySelectorAll(".pdf-show"),popUpPdfHide=document.querySelector(".pdf-hide");popUpPdfShow.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),popUpPdf.classList.remove("d-none")}))})),popUpPdfHide.addEventListener("click",(function(){popUpPdf.classList.add("d-none")}));
